{"version":3,"sources":["../../json-web-signature-2020/dist/index.js","../../node_modules/regenerator-runtime/runtime.js","../../src/utils.ts","../../src/JsonWebKey.ts","../../src/constants.ts","../../src/JsonWebSignature.ts","documentLoader.js","keys/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","require","runtime","Op","Object","prototype","hasOwn","hasOwnProperty","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","key","value","defineProperty","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","generator","create","Generator","context","Context","_invoke","state","method","arg","Error","done","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","fn","call","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","resolve","reject","invoke","result","__await","then","unwrapped","error","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","doneResult","constructor","displayName","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","toString","keys","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","orderJwk","jwk","_jwk","kty","crv","x","y","d","didKeyToJsonWebKey","didKeyPair","json","toJsonWebKeyPair","publicKeyJwk","privateKeyJwk","kid","id","keyUtils","getKid","controller","didKeyGenerator","crvOrSize","seed","Ed25519KeyPair","generate","secureRandom","crypto","randomBytes","Secp256k1KeyPair","KeyPair","signWithDetachedJws","message","EdDSA","signDetached","alg","b64","crit","ES256K","privateKeyToSigner","createDetachedJws","verifyWithDetachedJws","jws","verifyDetached","publicKeyToVerifier","Jws","verifyDetachedJws","JsonWebKey","options","from","toLinkedDataKeyPair","toVerificationMethod","signer","sign","data","verifier","verify","signature","verified","console","securityConstants","constants","SECURITY_CONTEXT_URL","SECURITY_CONTEXT_V2_URL","SECURITY_CONTEXT_V1_URL","SECURITY_PROOF_URL","SECURITY_SIGNATURE_URL","sha256","h","createHash","update","digest","JsonWebSignature","date","verificationMethod","canonize","input","jsonld","algorithm","format","documentLoader","expansionMap","skipExpansion","useNative","useNativeCanonize","canonizeProof","proof","signatureValue","proofValue","createVerifyData","a","document","c14nProofOptions","c14nDocument","Buffer","concat","matchProof","updateProof","verifyData","createProof","purpose","compactProof","compact","compactToRelative","created","Date","toISOString","creator","suite","getVerificationMethod","frame","expandContext","verifySignature","warn","log","verifyProof","validate","purposeResult","valid","golem","documentLoaderFactory","pluginFactory","build","contexts","W3C_Decentralized_Identifiers","W3C_Verifiable_Credentials","W3ID_Security_Vocabulary","addContext","addResolver","uri","webCryptoDriver","accept","didDocument","ed25519Driver","secp256k1Driver","buildDocumentLoader","App","React","useState","results","setState","useEffect","all","map","keypair","vc_template_0","issuanceDate","vcjs","issue","credential","issuer","res","verifiableCredential","verifyCredential","verification","className","JSON","stringify","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.3b9d363e.chunk.js","sourcesContent":["\n'use strict'\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./json-web-signature-2020.cjs.production.min.js')\n} else {\n  module.exports = require('./json-web-signature-2020.cjs.development.js')\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","import crypto from 'crypto';\nimport { Jws } from '@transmute/did-key-common';\nimport { Ed25519KeyPair, EdDSA, keyUtils } from '@transmute/did-key-ed25519';\nimport { Secp256k1KeyPair, ES256K } from '@transmute/did-key-secp256k1';\nimport {\n  KeyPair,\n  privateKeyToSigner,\n  publicKeyToVerifier,\n  createDetachedJws,\n} from '@transmute/did-key-web-crypto';\n\nimport { JWK, JsonWebKeyPair } from './types';\n\nexport const orderJwk = (jwk: JWK): JWK => {\n  let _jwk: any = {};\n  if (jwk.kty) {\n    _jwk.kty = jwk.kty;\n  }\n  if (jwk.crv) {\n    _jwk.crv = jwk.crv;\n  }\n  if (jwk.x) {\n    _jwk.x = jwk.x;\n  }\n  if (jwk.y) {\n    _jwk.y = jwk.y;\n  }\n  if (jwk.d) {\n    _jwk.d = jwk.d;\n  }\n  return _jwk;\n};\n\nexport const didKeyToJsonWebKey = (\n  didKeyPair: Ed25519KeyPair | Secp256k1KeyPair | KeyPair\n): JsonWebKeyPair => {\n  const json = didKeyPair.toJsonWebKeyPair(true);\n  const { publicKeyJwk, privateKeyJwk } = json;\n\n  delete publicKeyJwk.kid;\n  delete privateKeyJwk.kid;\n  return {\n    id: `#${keyUtils.getKid(publicKeyJwk)}`,\n    type: 'JsonWebKey2020',\n    controller: didKeyPair.controller,\n    publicKeyJwk: orderJwk(publicKeyJwk),\n    privateKeyJwk: orderJwk(privateKeyJwk),\n  };\n};\n\nexport const didKeyGenerator = async (\n  kty: string,\n  crvOrSize: string,\n  seed?: Uint8Array\n) => {\n  if (kty === 'OKP' && crvOrSize === 'Ed25519') {\n    return didKeyToJsonWebKey(\n      await Ed25519KeyPair.generate({\n        secureRandom: () => {\n          return seed || crypto.randomBytes(32);\n        },\n      })\n    );\n  }\n  if (kty === 'EC' && crvOrSize === 'secp256k1') {\n    return didKeyToJsonWebKey(\n      await Secp256k1KeyPair.generate({\n        secureRandom: () => {\n          return seed || crypto.randomBytes(32);\n        },\n      })\n    );\n  }\n\n  if (kty === 'EC' && crvOrSize === 'P-256') {\n    if (seed) {\n      throw new Error('P-256 does not support deterministic seed.');\n    }\n    return didKeyToJsonWebKey(\n      await KeyPair.generate({\n        kty,\n        crvOrSize,\n      })\n    );\n  }\n\n  if (kty === 'EC' && crvOrSize === 'P-384') {\n    if (seed) {\n      throw new Error('P-384 does not support deterministic seed.');\n    }\n    return didKeyToJsonWebKey(\n      await KeyPair.generate({\n        kty,\n        crvOrSize,\n      })\n    );\n  }\n\n  if (kty === 'EC' && crvOrSize === 'P-521') {\n    if (seed) {\n      throw new Error('P-256 does not support deterministic seed.');\n    }\n    return didKeyToJsonWebKey(\n      await KeyPair.generate({\n        kty,\n        crvOrSize,\n      })\n    );\n  }\n\n  throw new Error(`JsonWebKey2020 does not support ${kty} and ${crvOrSize}`);\n};\n\nexport const signWithDetachedJws = async (\n  privateKeyJwk: JWK,\n  message: Buffer\n) => {\n  if (privateKeyJwk.crv === 'Ed25519') {\n    return EdDSA.signDetached(message, privateKeyJwk, {\n      alg: 'EdDSA',\n      b64: false,\n      crit: ['b64'],\n    });\n  }\n  if (privateKeyJwk.crv === 'secp256k1') {\n    return ES256K.signDetached(message, privateKeyJwk as any, {\n      alg: 'ES256K',\n      b64: false,\n      crit: ['b64'],\n    });\n  }\n  if (privateKeyJwk.crv === 'P-256') {\n    const signer = await privateKeyToSigner(privateKeyJwk);\n    return createDetachedJws(signer, message, {\n      alg: 'ES256',\n      b64: false,\n      crit: ['b64'],\n    });\n  }\n  if (privateKeyJwk.crv === 'P-384') {\n    const signer = await privateKeyToSigner(privateKeyJwk);\n    return createDetachedJws(signer, message, {\n      alg: 'ES384',\n      b64: false,\n      crit: ['b64'],\n    });\n  }\n  if (privateKeyJwk.crv === 'P-521') {\n    const signer = await privateKeyToSigner(privateKeyJwk);\n    return createDetachedJws(signer, message, {\n      alg: 'ES521',\n      b64: false,\n      crit: ['b64'],\n    });\n  }\n  throw new Error(\n    `JsonWebKey2020 does not support sign with ${privateKeyJwk.crv}`\n  );\n};\n\nexport const verifyWithDetachedJws = async (\n  publicKeyJwk: JWK,\n  jws: string,\n  message: Buffer\n) => {\n  if (publicKeyJwk.crv === 'Ed25519') {\n    return EdDSA.verifyDetached(jws, message, publicKeyJwk);\n  }\n  if (publicKeyJwk.crv === 'secp256k1') {\n    return ES256K.verifyDetached(jws, message, publicKeyJwk as any);\n  }\n  if (publicKeyJwk.crv === 'P-256') {\n    const verifier = await publicKeyToVerifier(publicKeyJwk);\n    return Jws.verifyDetachedJws(verifier, message, jws);\n  }\n  if (publicKeyJwk.crv === 'P-384') {\n    const verifier = await publicKeyToVerifier(publicKeyJwk);\n    return Jws.verifyDetachedJws(verifier, message, jws);\n  }\n  if (publicKeyJwk.crv === 'P-521') {\n    const verifier = await publicKeyToVerifier(publicKeyJwk);\n    return Jws.verifyDetachedJws(verifier, message, jws);\n  }\n  throw new Error(\n    `JsonWebKey2020 does not support verify with ${publicKeyJwk.crv}`\n  );\n};\n","// import { Ed25519KeyPair } from '@transmute/did-key-ed25519'\nimport {\n  JWK,\n  JsonWebKeyPair,\n  JsonWebKeyVerificationMethod,\n  JsonWebKeyPairGenerateOptions,\n} from './types';\n\nimport {\n  orderJwk,\n  didKeyGenerator,\n  signWithDetachedJws,\n  verifyWithDetachedJws,\n} from './utils';\n\nexport class JsonWebKey implements JsonWebKeyPair {\n  public id: string;\n  public type = 'JsonWebKey2020';\n  public controller: string;\n  public publicKeyJwk: JWK;\n  public privateKeyJwk: JWK;\n\n  static async generate(\n    options: JsonWebKeyPairGenerateOptions = {\n      kty: 'OKP',\n      crvOrSize: 'Ed25519',\n    }\n  ) {\n    return new JsonWebKey(\n      await didKeyGenerator(options.kty, options.crvOrSize, options.seed)\n    );\n  }\n\n  static async from(options: JsonWebKeyPair) {\n    return new JsonWebKey(options);\n  }\n\n  constructor(options: JsonWebKeyPair) {\n    this.id = options.id;\n    this.controller = options.controller;\n    this.publicKeyJwk = options.publicKeyJwk;\n    this.privateKeyJwk = options.privateKeyJwk;\n  }\n\n  toLinkedDataKeyPair(): JsonWebKeyPair {\n    return {\n      id: this.id,\n      type: this.type,\n      controller: this.controller,\n      publicKeyJwk: orderJwk(this.publicKeyJwk),\n      privateKeyJwk: orderJwk(this.privateKeyJwk),\n    };\n  }\n\n  toVerificationMethod(): JsonWebKeyVerificationMethod {\n    return {\n      id: this.id,\n      type: this.type,\n      controller: this.controller,\n      publicKeyJwk: orderJwk(this.publicKeyJwk),\n    };\n  }\n\n  signer() {\n    if (!this.privateKeyJwk) {\n      return {\n        async sign() {\n          throw new Error('No private key to sign with.');\n        },\n      };\n    }\n    let privateKeyJwk = this.privateKeyJwk;\n    return {\n      async sign({ data }: any) {\n        return signWithDetachedJws(privateKeyJwk, data);\n      },\n    };\n  }\n\n  verifier() {\n    if (!this.publicKeyJwk) {\n      return {\n        async verify() {\n          throw new Error('No public key to verify with.');\n        },\n      };\n    }\n    let publicKeyJwk = this.publicKeyJwk;\n    return {\n      async verify({ data, signature }: any) {\n        let verified = false;\n        try {\n          verified = await verifyWithDetachedJws(publicKeyJwk, signature, data);\n        } catch (e) {\n          console.error('An error occurred when verifying signature: ', e);\n        }\n        return verified;\n      },\n    };\n  }\n}\n","const { constants: securityConstants } = require('security-context');\n\nconst constants = {\n  // leave commented out, changing this will break compatability\n  // with digital bazaar\n  // SECURITY_CONTEXT_URL: 'https://w3id.org/security/v3',\n  SECURITY_CONTEXT_URL: securityConstants.SECURITY_CONTEXT_V2_URL,\n  SECURITY_CONTEXT_V1_URL: securityConstants.SECURITY_CONTEXT_V1_URL,\n  SECURITY_CONTEXT_V2_URL: securityConstants.SECURITY_CONTEXT_V2_URL,\n  SECURITY_PROOF_URL: 'https://w3id.org/security#proof',\n  SECURITY_SIGNATURE_URL: 'https://w3id.org/security#signature',\n};\n\nexport default constants;\n","import jsonld from 'jsonld';\nimport constants from './constants';\nimport crypto from 'crypto';\n\nimport { JsonWebKey } from './JsonWebKey';\n\nconst sha256 = (data: any) => {\n  const h = crypto.createHash('sha256');\n  h.update(data);\n  return h.digest();\n};\n\nexport interface JsonWebSignatureOptions {\n  key?: JsonWebKey;\n  date?: any;\n  signer?: any;\n}\n\nexport class JsonWebSignature {\n  public useNativeCanonize: boolean = false;\n  public key?: JsonWebKey;\n  public proof: any;\n  public date: any;\n  public creator: any;\n  public type: string = 'https://w3id.org/security#JsonWebSignature2020';\n  public signer: any;\n  public verifier: any;\n  public verificationMethod?: string;\n  public getVM: any;\n  constructor(options: JsonWebSignatureOptions = {}) {\n    this.signer = options.signer;\n    this.date = options.date;\n    if (options.key) {\n      this.key = options.key;\n      this.verificationMethod = this.key.id;\n      this.signer = options.key.signer();\n      this.verifier = options.key.verifier();\n    }\n  }\n\n  async canonize(\n    input: any,\n    { documentLoader, expansionMap, skipExpansion }: any\n  ) {\n    return jsonld.canonize(input, {\n      algorithm: 'URDNA2015',\n      format: 'application/n-quads',\n      documentLoader,\n      expansionMap,\n      skipExpansion,\n      useNative: this.useNativeCanonize,\n    });\n  }\n\n  async canonizeProof(proof: any, { documentLoader, expansionMap }: any) {\n    // `jws`,`signatureValue`,`proofValue` must not be included in the proof\n    // options\n    proof = { ...proof };\n    delete proof.jws;\n    delete proof.signatureValue;\n    delete proof.proofValue;\n    return this.canonize(proof, {\n      documentLoader,\n      expansionMap,\n      skipExpansion: false,\n    });\n  }\n\n  async createVerifyData({\n    document,\n    proof,\n    documentLoader,\n    expansionMap,\n  }: any) {\n    // concatenate hash of c14n proof options and hash of c14n document\n    const c14nProofOptions = await this.canonizeProof(proof, {\n      documentLoader,\n      expansionMap,\n    });\n    const c14nDocument = await this.canonize(document, {\n      documentLoader,\n      expansionMap,\n    });\n    return Buffer.concat([sha256(c14nProofOptions), sha256(c14nDocument)]);\n  }\n\n  async matchProof({\n    proof,\n  }: // document,\n  // purpose,\n  // documentLoader,\n  // expansionMap,\n  any) {\n    return proof.type === 'sec:JsonWebSignature2020';\n  }\n\n  async updateProof({ proof }: any) {\n    // extending classes may do more\n    return proof;\n  }\n\n  async sign({ verifyData, proof }: any) {\n    if (!(this.signer && typeof this.signer.sign === 'function')) {\n      throw new Error('A signer API has not been specified.');\n    }\n\n    const detachedJws = await this.signer.sign({ data: verifyData });\n    proof.jws = detachedJws;\n    return proof;\n  }\n\n  async createProof({\n    document,\n    purpose,\n    documentLoader,\n    expansionMap,\n    compactProof,\n  }: any) {\n    // build proof (currently known as `signature options` in spec)\n    let proof;\n    if (this.proof) {\n      // use proof JSON-LD document passed to API\n      proof = await jsonld.compact(this.proof, constants.SECURITY_CONTEXT_URL, {\n        documentLoader,\n        expansionMap,\n        compactToRelative: false,\n      });\n    } else {\n      // create proof JSON-LD document\n      proof = { '@context': constants.SECURITY_CONTEXT_URL };\n    }\n\n    // ensure proof type is set\n    proof.type = this.type;\n\n    // set default `now` date if not given in `proof` or `options`\n    let date = this.date;\n    if (proof.created === undefined && date === undefined) {\n      date = new Date();\n    }\n\n    // ensure date is in string format\n    if (date !== undefined && typeof date !== 'string') {\n      date = new Date(date).toISOString();\n    }\n\n    // add API overrides\n    if (date !== undefined) {\n      proof.created = date;\n    }\n    // `verificationMethod` is for newer suites, `creator` for legacy\n    if (this.verificationMethod !== undefined) {\n      proof.verificationMethod = this.verificationMethod;\n    }\n    if (this.creator !== undefined) {\n      proof.creator = this.creator;\n    }\n\n    // add any extensions to proof (mostly for legacy support)\n    proof = await this.updateProof({\n      document,\n      proof,\n      purpose,\n      documentLoader,\n      expansionMap,\n      compactProof,\n    });\n\n    // allow purpose to update the proof; the `proof` is in the\n    // SECURITY_CONTEXT_URL `@context` -- therefore the `purpose` must\n    // ensure any added fields are also represented in that same `@context`\n    proof = await purpose.update(proof, {\n      document,\n      suite: this,\n      documentLoader,\n      expansionMap,\n    });\n\n    // create data to sign\n    const verifyData = await this.createVerifyData({\n      document,\n      proof,\n      documentLoader,\n      expansionMap,\n      compactProof,\n    });\n\n    // sign data\n    proof = await this.sign({\n      verifyData,\n      document,\n      proof,\n      documentLoader,\n      expansionMap,\n    });\n\n    return proof;\n  }\n\n  async getVerificationMethod({ proof, documentLoader }: any) {\n    let { verificationMethod } = proof;\n\n    if (!verificationMethod) {\n      // backwards compatibility support for `creator`\n      const { creator } = proof;\n      verificationMethod = creator;\n    }\n\n    if (typeof verificationMethod === 'object') {\n      verificationMethod = verificationMethod.id;\n    }\n\n    if (!verificationMethod) {\n      throw new Error('No \"verificationMethod\" or \"creator\" found in proof.');\n    }\n\n    // Note: `expansionMap` is intentionally not passed; we can safely drop\n    // properties here and must allow for it\n\n    let result;\n\n    try {\n      result = await jsonld.frame(\n        verificationMethod,\n        {\n          '@context': 'https://w3id.org/security/v2',\n          '@embed': '@always',\n          id: verificationMethod,\n        },\n        {\n          documentLoader,\n          compactToRelative: false,\n          expandContext: 'https://w3id.org/security/v2',\n        }\n      );\n    } catch (e) {\n      console.error(e);\n    }\n\n    if (!result || !result.controller) {\n      throw new Error(`Verification method ${verificationMethod} not found.`);\n    }\n\n    return result;\n  }\n\n  async verifySignature({ verifyData, verificationMethod, proof }: any) {\n    let { verifier } = this;\n    if (!verifier) {\n      // warning...\n      // any VM not defined in sec/v2 will be returned mandled here..\n      if (!verificationMethod.publicKeyJwk) {\n        console.warn(\n          'The current security context used by JSON-LD Signatures does not understand publicKeyJwk.'\n        );\n        console.log(verificationMethod);\n        verificationMethod.publicKeyJwk =\n          verificationMethod['sec:publicKeyJwk']['@value'];\n      }\n      // Best advice is mutate sec-v2 locally to ensure it contains defintions\n      // for your suite.\n      // You cannot do this with digital bazaars code,\n      // because it does not allow you to overwrite sec/v2\n      const key = await JsonWebKey.from(verificationMethod);\n\n      // this suite relies on detached JWS....\n      // so we need to make sure thats the signature format we are verifying.\n      verifier = key.verifier();\n    }\n    return verifier.verify({ data: verifyData, signature: proof.jws });\n  }\n\n  async verifyProof({\n    proof,\n    document,\n    purpose,\n    documentLoader,\n    expansionMap,\n    compactProof,\n  }: any) {\n    try {\n      // create data to verify\n      const verifyData = await this.createVerifyData({\n        document,\n        proof,\n        documentLoader,\n        expansionMap,\n        compactProof,\n      });\n\n      // fetch verification method\n      const verificationMethod = await this.getVerificationMethod({\n        proof,\n        document,\n        documentLoader,\n        expansionMap,\n      });\n\n      // verify signature on data\n      const verified = await this.verifySignature({\n        verifyData,\n        verificationMethod,\n        document,\n        proof,\n        documentLoader,\n        expansionMap,\n      });\n      if (!verified) {\n        throw new Error('Invalid signature.');\n      }\n\n      // ensure proof was performed for a valid purpose\n      const purposeResult = await purpose.validate(proof, {\n        document,\n        suite: this,\n        verificationMethod,\n        documentLoader,\n        expansionMap,\n      });\n\n      if (!purposeResult.valid) {\n        throw purposeResult.error;\n      }\n\n      return { verified: true, purposeResult };\n    } catch (error) {\n      return { verified: false, error };\n    }\n  }\n}\n","import {\n  documentLoaderFactory,\n  contexts,\n} from \"@transmute/jsonld-document-loader\";\n\nimport { driver as ed25519Driver} from '@transmute/did-key-ed25519'\nimport { driver as secp256k1Driver} from '@transmute/did-key-secp256k1'\nimport { driver as webCryptoDriver} from '@transmute/did-key-web-crypto'\n\nconst golem = documentLoaderFactory.pluginFactory.build({\n  contexts: {\n    ...contexts.W3C_Decentralized_Identifiers,\n    ...contexts.W3C_Verifiable_Credentials,\n    ...contexts.W3ID_Security_Vocabulary,\n  },\n});\n\ngolem.addContext({\n  \"https://w3c-ccg.github.io/lds-jws2020/contexts/lds-jws2020-v1.json\": require(\"./contexts/lds-jws2020-v1.json\"),\n});\n\ngolem.addResolver({\n  'did:key:': {\n    resolve: async (uri) => {\n      const { didDocument } = await webCryptoDriver.resolve(uri, {\n        accept: 'application/did+json',\n      });\n      return didDocument;\n    },\n  },\n  'did:key:z6': {\n    resolve: async (uri) => {\n      const { didDocument } = await ed25519Driver.resolve(uri, {\n        accept: 'application/did+json',\n      });\n      return didDocument;\n    },\n  },\n  'did:key:zQ': {\n    resolve: async (uri) => {\n      const { didDocument } = await secp256k1Driver.resolve(uri, {\n        accept: 'application/did+json',\n      });\n      return didDocument;\n    },\n  },\n})\n\nconst documentLoader = golem.buildDocumentLoader();\n\nexport { documentLoader };\n","const keys = [\n    require('./ed25519.json'),\n    require('./secp256k1.json'),\n    require('./p-256.json'),\n    require('./p-384.json'),\n    require('./p-521.json')\n]\n\nexport { keys }","import React from \"react\";\n\nimport * as vcjs from \"@transmute/vc.js\";\n\nimport {\n  JsonWebKey,\n  JsonWebSignature,\n} from \"@transmute/json-web-signature-2020\";\n\nimport { documentLoader } from \"./documentLoader\";\n\nimport { vc_template_0 } from \"./credential.json\";\n\nimport {keys} from './keys'\n\nfunction App() {\n  const [state, setState] = React.useState({results: []})\n  React.useEffect(() => {\n    (async () => {\n      const results = [];\n      await Promise.all(keys.map(async(key)=>{\n        const keypair = await JsonWebKey.from(key);\n\n      keypair.id = keypair.controller + keypair.id\n\n      const suite = new JsonWebSignature({\n        key: keypair,\n        date: vc_template_0.issuanceDate,\n      });\n\n      const verifiableCredential = await vcjs.ld.issue({\n        credential: {\n          ...vc_template_0,\n          issuer: {\n            ...vc_template_0.issuer,\n            id: keypair.controller,\n          },\n        },\n        suite,\n        documentLoader: async (uri) => {\n          const res = await documentLoader(uri);\n          // uncomment to debug\n          // console.log(res);\n          return res;\n        },\n      });\n      const verification = await vcjs.ld.verifyCredential({\n        credential: { ...verifiableCredential },\n        suite: new JsonWebSignature(),\n        documentLoader: async (uri) => {\n          const res = await documentLoader(uri);\n          // uncomment to debug\n          // console.log(res);\n          return res;\n        },\n      });\n      results.push({\n        key, verifiableCredential, verification\n      })\n      }));\n      setState({results})\n      console.log('results: ', results)\n\n    })();\n  }, []);\n  return (\n    <div className=\"App\">\n      See console.\n      {\n        state.results.map((result)=>{\n          return (<div key={result.key.publicKeyJwk.kty}>\n            <h3>{result.key.publicKeyJwk.crv} {result.key.publicKeyJwk.kty}, Verified: {JSON.stringify(result.verification.verified)}</h3>\n            <pre>{JSON.stringify(result.verifiableCredential, null, 2)}</pre>\n          </div>)\n        })\n      }\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}